---
Index: "[[🏷 Tech Notes]]"
tags:
  - Linux
  - Linux/Kernel
  - LInux/FileSystem
  - Linux/VFS
---

## 주요 가상 파일 시스템 목록

| 디렉토리    | ==파일 시스템 유형==     | 설명                                                                          |
| ------- | ----------------- | --------------------------------------------------------------------------- |
| `/proc` | `procfs`          | **프로세스 및 커널 정보**를 제공하는 가상 파일 시스템입니다. 예: `/proc/cpuinfo`, `/proc/meminfo` 등. |
| `/sys`  | `sysfs`           | **하드웨어 및 커널 객체**에 대한 정보를 제공하며, 장치 및 드라이버의 상태를 확인하고 설정할 수 있습니다.              |
| `/dev`  | `devtmpfs`        | **디바이스 파일**을 동적으로 생성하여 `/dev` 디렉토리에 노출합니다.                                  |
| `/run`  | `tmpfs`           | **런타임 데이터**를 저장하는 임시 파일 시스템으로, 부팅 시 초기화되며 PID 파일, 소켓 등 일시적인 데이터를 저장합니다.     |
| `/tmp`  | `tmpfs` 또는 디스크 기반 | **임시 파일**을 저장하는 디렉토리로, 시스템 재부팅 시 내용이 삭제됩니다.                                 |

---

### 1. `/proc` - `procfs`

- 프로세스와 커널 상태에 대한 정보를 제공하는 가상 파일 시스템이다.

- 특징
    - 실제 디스크에 존재하는 파일이 아닌,
      커널이 메모리 상에 생성하는 가상 파일들로 구성됩니다.
    - 시스템 부팅 시 자동으로 `/proc` 디렉터리에 마운트된다.


### 2. `/sys` – `sysfs` (시스템 파일 시스템)

- 커널이 노출하는 하드웨어 및 커널 객체에 대한 정보와 제어 인터페이스를 제공하는 가상 파일 시스템이다.

- 특징
	- 커널이 관리하는 Device Tree(장치 트리), Bus(버스), Driver, Power, CPU 설정 등 다양한 구성 요소를 계층적 구조로 노출한다.
		- `udev`, `systemd` 등 주요 시스템 도구들이 해당 정보를 사용한다.


### 3. `/dev` – `devtmpfs` (디바이스 노드 파일 시스템)

- 시스템의 하드웨어 장치(디바이스)를 파일 형태로 노출하는 디렉터리/파일시스템이다.

- 특징
	- 실제로는 장치가 아니라, 장치와 입출력을 수행할 수 있도록 만든 특수한 파일이다.
	- 부팅 시 커널이 자동 생성하며, **udev**가 이를 동적으로 관리한다.
	- 문자 장치(`/dev/tty`, `/dev/null`)와 블록 장치(`/dev/sda`, `/dev/loop0`)를 포함한다.
	- 가상 터미널, **USB**, **하드 디스크**, **RAID**, **LVM**, **RAM 디스크** 등의 접근 지점이다.

- 예시
```bash
/dev/sda    # 첫 번째 디스크
/dev/tty0   # 첫 번째 가상 콘솔
/dev/null   # 무시용 장치 (데이터 버리기용)
```


### 4. `/run` – `tmpfs` 기반 런타임 데이터 저장소

- 시스템이 부팅한 이후, 초기화된 런타임 상태 정보(PID, 소켓 등)를 저장하는 공간이다.

 - 특징
	 - `systemd` 기반 시스템에서 표준적으로 사용한다.
	 - 부팅 시 초기화되며, 디스크가 마운트되기 전에 접근 가능하다.
	 - 프로그램 실행 시 생성되는 임시 상태 파일, 소켓, PID 파일 등을 저장한다.

- 예시
```bash
/run/systemd/system/       # systemd 런타임 정보
/run/nginx.pid             # nginx의 PID 파일
```


### 5. `/tmp` – `tmpfs` 임시 파일 시스템

- 메모리(RAM)을 기반으로 한 임시 파일 시스템으로, 디스크가 아닌 메모리에 데이터를 저장한다.
	- 임시 데이터나 파일을 저장하는 공간으로, 프로그램이나 사용자 작업 중 생성된다.

- 특징
	- 고속 임시 저장 공간 제공 목적으로 주로 사용된다.
	- 메모리 상에 생성되는 공간이기 때문에, 
	  시스템 재부팅 시 내용이 삭제된다. (휘발성)
	- `size=` 옵션으로 최대 크기 지정이 가능하다.
	  별도 지정 안할 시, 물리 메모리의 절반 크기로 최대 크기가 설정된다.
	- `df -h` 명령으로 크기 확인이 가능하다.

- 예시
```
tmpfs on /run type tmpfs (rw,nosuid,nodev,mode=755)
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)
tmpfs on /tmp type tmpfs (rw,nosuid,nodev)
```

```bash
mount -t tmpfs -o size=512M tmpfs /mnt/tmpmem
```


 ### 6. `cgroupfs` (또는 `cgroup2`) – Control Groups 파일 시스템

- Linux의 cgroup 기능을 제공하는 가상 파일 시스템이다.
- 특징
	- 프로세스의 리소스(CPU, 메모리, I/O 등) 사용을 제한 및 모니터링 한다.
	- 계층적 구조로 구성되어 특정 그룹별로 리소스를 제한하거나 정책을 적용 가능하다.
	- 시스템 부팅 시 `/sys/fs/cgroup`에 마운트된다.
